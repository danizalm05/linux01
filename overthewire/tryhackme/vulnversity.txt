                               vulnversity
                           ======================
Learn about active recon, web app attacks and privilege escalation
 
https://tryhackme.com/hacktivities/search
 
https://tryhackme.com/room/vulnversity
 
 
https://github.com/fartaviao/tryhackme-vulnversity/blob/main/Vulnversity.md
    
	walkthrough video (John Hammond)
                       ==============
https://www.youtube.com/watch?v=hvYWCegfEZs&list=PL1H1sBF1VAKUOm3WyiZ-m2Oqwku4Xp6if&index=3

   
    
   

<IP  >= remote ip =  10.10.231.94

nmap -sV <IP>

Identified open ports:

    21/tcp - FTP (vsftpd 3.0.3)
    22/tcp - SSH (OpenSSH 7.2p2 Ubuntu)
    139, 445/tcp - Samba (SMB service)
    3128/tcp - Squid proxy (3.5.12)
    3333/tcp - Apache HTTP Server (2.4.18 Ubuntu)
	
	you can open the web page in url =  'http://10.10.34.169:3333/'
	
Task 3:    Locating directories using Gobuster
------------------------------
Gobuster is a tool for brute-forcing URIs (directories and files), DNS subdomains, and virtual host names.  

 gobuster dir -u http://IP:3333 -w /usr/share/wordlists/dirbuster/directory-list-1.0.txt

What is the directory that has an upload form page?
Try to open all the paths . you will find the uploa page in the next path:
http://IP:3333/internal/


  

-------------------------------------------
Now that you have found a form to upload files, 
( http:10.10.135.221:3333/internal/ )
we can leverage this to upload and execute our payload, which will lead to compromising the web server.

    Answer the questions below:

    What common file type you'd want to upload to exploit the server is blocked? 

    Logically, the ideal would be to upload a .php file to execute code. Imagine it as a Trojan horse.

download file:
     https://github.com/pentestmonkey/php-reverse-shell/blob/master/php-reverse-shell.php
Before we proceed to test the upload form, we’ll need to change the IP address in the php reverse shell script. Set this to your attack machine’s IP address 
 You can also change the port if you’d like; this is a matter of preference. We just need to make sure that our listener is set to the same port so we will change it to  9001, A random port number above 9000


so the lines are :
  $ip = '10.10.231.94';  // CHANGE THIS   local IP not Remote IP
  $port = 9001;         // CHANGE THIS     A random port number above 9000

Next  start up a netcat listener so we will have a shell as soon as the php file is executed. 
Do this in a terminal:

 goto upload dir http://10.10.231.94:3333/internal
  and try to upload 
  the result is 'Extension not allowed'
  
  So this extensio is not allowed


Now we need t5o find wich extensio is allowed:
  To do this, we'll use BurpSuite. We’re going to use Intruder (used to automate custom attacks). To start, make a wordlist with the following extensions:

.php
.php3
.php4
.php5
.phtml

https://youtu.be/hvYWCegfEZs?list=PL1H1sBF1VAKUOm3WyiZ-m2Oqwku4Xp6if&t=687 







Search "foxyproxy extension" and add it 

We go into the FoxyProxy options and add a new proxy and click Save.

click : option/proxy/add
Input the next items:

Title: burpsuite
Type: HTTP
Hostname: 127.0.0.1
port: 8080

save 



  run Burpsuite from the terminal  :   burpsuite
Burpsuite will open, chose the temporary project, use the default parameters, and launch it by clicking Start Burp.


on the main manu, go to the Proxy tab, Intercept, and put the option in "Intercept is ON".


At this point, BurpSuite is intercepting. We can go back to Firefox and select the burpsuite Proxy we previously configured.

goto the upload url http://ip:3333/internal/
Now we can upload the file we’ve created. Click on Submit, and we notice that the page keeps loading because the proxy has intercepted the request. So, we go to BurpSuite to see what has been intercepted.

 
https://kalilinuxtutorials.com/burpsuite/
