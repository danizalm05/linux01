
https://tryhackme.com/room/25daysofchristmas

https://kevinovitz.github.io/TryHackMe_Writeups/25daysofchristmas/25daysofchristmas/
https://muirlandoracle.co.uk/2020/01/06/tryhackme-christmas-2019-challenge-write-up/#Day_Four_-_Training

Deploy the machine :
sudo openvpn zam.ovpn

[04- Traning]

Access the machine via SSH on port 22 using the command:
    ssh mcsysadmin@[your-machines-ip]
    username: mcsysadmin
    password: bestelf1234
	
a. How many visible files are there in the home directory(excluding ./ and ../)?	
  run ls -la
  output :
     There are only 8 visible files.
	 
b.	 What is the content of file5?
	 cat file5
	 output :
	    recipes
c. Which file contains the string ‘password’?

    run: grep -r password ./
	output:
	   ./file6:passwordHpKRQfdxzZocwg5O0RsiyLSVQon72CjFmsV4ZLGjxI8tXYo1NhLsEply
   answer: file6
d. What is the IP address in a file in the home folder?
	  Using regex we need to find a pattern rather than a string.
	  
	cat * | grep -E "([0-9]{1,3}\.){3}[0-9]{1,3}" -o
       -E  :  Extended Regex pattern to use
       -o   : Only show the matching string
 
 
 ([0-9]{1,3}[\.]):  look for between one and three numbers (0–9), followed by a period
 {3} says that we’re looking for three repetitions of the prior instruction
 [0-9]{1,3} looks for one more set of one to three numbers between 0 and 9 ,without the trailing period
 
  
  output:  10.0.0.05
e. How many users can log into the machine?  

  We can look for any users folders in the home directory.

ls -la /home
      dr-xr-xr-x 18 root       root       275 Feb 15 14:04 ..
      drwx------  3 ec2-user   ec2-user    95 Dec  4  2019 ec2-user
      drwx------  2 mcsysadmin mcsysadmin 199 Dec  4  2019 mcsysadmin
	  
	  answer :  3 users
		  
f. 		  What is the sha1 hash of file8?

      run: sha1sum file8 
	  output:
	      fa67ee594358d83becdd2cb6c466b25320fd2835  file8
       answer :  fa67ee594358d83becdd2cb6c466b25320fd2835
	   
g. What is mcsysadmin’s password hash?	  

  The   way of getting unix password hashes is by looking at the /etc/shadow file — but without sudo permissions we aren’t able to read it.
  
  so 
  run: find / 2>>/dev/null | grep "shadow.bak"
  
  This lists all of the files on the system 
   (using 2>>/dev/null to ignore any files that throw up errors when we try to read them), 
  then pipes the output to grep which looks for “shadow.bak.” Result! 
  There’s a file called “shadow.bak” in the /var directory:
     /var/shadow.bak
 	 
  run : cat   /var/shadow.bak
  output: on the last line you will  find 
  $6$jbosYsU/$qOYToX/hnKGjT0EscuUIiIqF8GHgokHdy/Rg/DaB.RgkrbeBXPdzpHdMLI6cQJLdFlS4gkBMzilDBYcQvu2ro/:18234:0:99999:7:::
